# VPC Peering Connection (AWS)
```
- VPC Peering is a networking connection between two VPCs.
- It allows resources in both VPCs to communicate using private IP addresses.
- Traffic stays within the AWS network (does not go over the public internet).
- It can be created between VPCs:
   â€¢ In the same region
   â€¢ In different regions (Inter-Region Peering)
   â€¢ In different AWS accounts


How It Works
 - Create peering connection
 - Accept the request
 - Update route tables on both sides
 - Add route: VPC-A â†’ 172.168.0.0/16 â†’ Target: Peering ID
           VPC-B â†’ 10.0.0.0/16 â†’ Target: Peering ID
 - Test using private IP (curl <private-ip>)

Important Points (Interview Ready) :
 - CIDR blocks must not overlap
 - Works within same account or different accounts
 - Traffic flows using private IP only
 - No transitive peering (Aâ†”B and Bâ†”C does NOT mean Aâ†”C)
 - Need route table update on both VPCs
 - Security Groups must allow traffic

 Use Cases :
  - Dev VPC â†” Prod VPC communication
  - Multi-tier applications across VPCs
  - Microservices in separate VPCs
  - Cross-account VPC communication
```
## VPC Peering Connection Steps
![image alt](https://github.com/Ashu-1808/AWS-cloud-computing-for-devops/blob/f3f7c5d083bcccce13a33c34b8f0126f8198ece5/VPC/VPC%20-peering.png)
```
Prerequisites:
 1.You must have two VPCâ€™s with non-overlapping CIDR
 2.You must have same account here
 3.VPC-A with CIDR range of 10.0.0.0/16
 4.VPC-B with CIDR range of 172.168.0.0/16
 5.CIDR range should be different
 6.Create 2 Linux instances in each VPC

âœ… Steps to Configure
Step1. Create VPCs
 1.Create VPC A (10.0.0.0/16)
 2.Create VPC B (172.16.0.0/16)
 3.Ensure CIDR blocks do not overlap

Step2. Create Subnets
 1.VPC A â†’ Subnet (e.g., 10.0.0.0/24)
 2.VPC B â†’ Subnet (e.g., 172.16.0.0/24)

Step3. Launch EC2 Instances
 1.Launch EC2 in both VPCs
 2.Assign security groups

Step4. Create Peering Connection
 1.Go to VPC â†’ Peering Connections
 2.Create new peering
 3.Select Requester VPC
 4.Select Accepter VPC
 6.Accept request
 7.Status â†’ Active

Step5. Update Route Tables (Important)
 1.VPC A Route Table
  - Destination: 172.16.0.0/16
  - Target: Peering Connection ID
 2.VPC B Route Table
  - Destination: 10.0.0.0/16
  - Target: Peering Connection ID

Step6. Update Security Groups
 1.Allow inbound traffic from other VPC CIDR
 2.Allow outbound traffic to other VPC CIDR

ðŸ”¹ Key Points

1.Peering is not transitive
2.No overlapping CIDR allowed
3.Works across regions (Inter-region peering)
4.No bandwidth bottleneck
5.Uses AWS private networks

Final Verification :
   1.On VPC-Aâ€™s routing table you can see a ocal route for its CIDR range as well  as route        for VPC-Bâ€™s CIDR of           172.168.0.0/16 with the peering    connection as the target
   2.On VPC-Bâ€™s routing table you can see local route for its CIDR as well as route for VPC-        Aâ€™s CIDR of 10.0.0.0/16 with the same peering connection as the target
   3.We can see all the information regarding the VPC peering connection and associated peers

 Step 8 (Testing) :
   Login to your Linux instance and just access the second instance using its
    private IP address with curl command
   Example:
   â†’ <second instance private IP>
```

