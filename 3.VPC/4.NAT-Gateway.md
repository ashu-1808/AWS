# NAT-Gateway

What is NAT Gateway?
```
A NAT (Network Address Translation) Gateway allows instances in a private subnet to access     the internet.
But prevents the internet from initiating a connection with those instances.
It provides outbound internet access only.

Q.Why Do We Need NAT Gateway?
 - Private subnet instances do not have public IP
 - They cannot access internet directly
 - But keeps them secure (no inbound internet access)

 - NAT Gateway enables: - Software updates
                      - Downloading packages
                      - Accessing external APIs
 
Important Points (Interview Ready)
 - NAT Gateway works only in public subnet
 - Requires Elastic IP
 - Only allows outbound traffic
 - Highly available within an Availability Zone
 - Managed service (no maintenance required)
```
How NAT Gateway Works (Flow)
 `Private EC2 â†’ Route Table â†’ NAT Gateway â†’ Internet Gateway â†’ Internet`
 
## Steps to Create NAT Gateway

![image alt](https://github.com/Ashu-1808/AWS-cloud-computing-for-devops/blob/27374f3cb63a2fafd2943137b00f62e35e5cc34e/VPC/NAT-gateway.png)

```

Architecture Overview
 1. VPC CIDR: `10.0.0.0/16`
 2. 1 Public Subnet
 3. 1 Private Subnet
 4. Internet Gateway (IGW)
 5. NAT Gateway (with Elastic IP)
 6. Separate Route Tables

Step 1: Create VPC
 1. Go to VPC Dashboard
 2. Click Create VPC
 3. Select VPC only
 4. Enter:
    - Name: `My-VPC`
    - CIDR: `10.0.0.0/16`
 5. Click **Create**

Step 2: Create Subnets
ğŸ”¹ Public Subnet
  1. Click Create Subnet
  2. Select VPC
  3. CIDR: `10.0.1.0/24`
  4. Enable Auto-assign Public IP

ğŸ”¹ Private Subnet
  1. Click Create Subnet
  2. Select same VPC
  3. CIDR: `10.0.2.0/24`
  4. Disable Auto-assign Public IP


Step 3: Create Internet Gateway (IGW)

 1. Go to Internet Gateways
 2. Click Create Internet Gateway
 3. Name it `My-IGW`
 4. Click Create
 5. Select IGW â†’ Click Attach to VPC
 6. Choose your VPC

Step 4: Create Public Route Table
 1. Go to Route Tables
 2. Click Create Route Table
 3. Select VPC
 4. Name: `Public-RT`
 5. Go to Routes â†’ Edit Routes
 6. Add:
   - Destination: `0.0.0.0/0`
   - Target: Internet Gateway
 7. Save routes
 8. Go to Subnet Associations
 9. Associate with Public Subnet

Step 5: Allocate Elastic IP
 1. Go to Elastic IPs
 2. Click Allocate Elastic IP
 3. Click Allocate

Step 6: Create NAT Gateway
 1. Go to NAT Gateways
 2. Click Create NAT Gateway
 3. Select:
    - Public Subnet
    - Allocate/Select Elastic IP
 4. Click Create NAT Gateway
 5. Wait until status becomes Available


Step 7: Create Private Route Table
 1. Go to Route Tables
 2. Click Create Route Table
 3. Select VPC
 4. Name: `Private-RT`
 5. Go to Routes â†’ Edit Routes
 6. Add:
    - Destination: `0.0.0.0/0`
    - Target: NAT Gateway
 7. Save routes
 8. Associate with Private Subnet


Step 8: Launch EC2 Instances (Optional Testing)
 A. Public EC2:
   1. Launch in Public Subnet
   2. Assign Public IP
   3. Attach Security Group (Allow SSH/HTTP)

 B. Private EC2:
    1. Launch in Private Subnet
    2. No Public IP
    3. Should access internet via NAT Gateway


#  Traffic Flow Understanding
  ğŸŒ Public Subnet:
    Instance â†’ Route Table â†’ IGW â†’ Internet

  ğŸ” Private Subnet:
    Instance â†’ Route Table â†’ NAT Gateway â†’ IGW â†’ Internet


ğŸ¯ Key  Points
  1. IGW provides internet access to Public Subnet
  2. NAT Gateway allows Private Subnet to access internet (outbound only)
  3. NAT Gateway must be created in Public Subnet
  4. Elastic IP is mandatory for NAT Gateway
  5. Separate route tables required
6. Private instances cannot be accessed directly from internet


```
