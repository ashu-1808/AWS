# 7 layer OSI model:
```
 1 Physical → Transmits raw bits over cable (electrical/optical signals)
 2 Data Link → Frames created, MAC address used for local delivery
 3 Network → IP address used for routing between networks
 4 Transport → TCP/UDP segments, port numbers, reliability control
 5 Session → Session establishment and management
 6 Presentation → Encryption/Decryption, formatting
 7 Application → HTTP request processed by application
```

# ELB (Elastic Load Balancer)
```
- Load Balancer automatically distributes the incoming web traffic to available servers
- Distributes load to available server automatically
- If Load Balancer gets crashed then it does not affect any server or user
- It is region specific
- While using this you are charged hourly
- Deleting ELB does not affect or delete EC2 instance registered within it
- Registered instance are those instances that are defined under the ELB
  also known as target group
- An ELB listeners is the process that checks for connection request
- Frontend Listeners check for traffic from client to the ELB
- Backend Listeners checks the traffic from the ELB to the available instance or
  healthy instance
- A health check is a test to confirm the availability of backend server
- Target group: Logical grouping of targets behind the ELB, target group can contain
  upto 200 target
```


![image alt](https://github.com/Ashu-1808/AWS-cloud-computing-for-devops/blob/e51ee856ba0aef781144e97fa634ad1ef3533079/1741338423279.gif)
```
Types of Load Balancer:
1. Application Load Balancer (ALB)
 - Works at: OSI Layer 7 (HTTP/HTTPS)
 - Feature: Supports microservices and containers
  SSL/TLS termination, Native integration with ECS, EKS
 - Use when: ALB is best for smart routing at the application layer, REST APIs

2. Network Load Balancer (NLB)
 - Works at: OSI Layer 4 (TCP, UDP, TLS)
 - Feature: Handle millions of requests per second
  Low latency, Static IP support, ideal for non HTTP traffic
 - Used when: NLB is for speed, scale and low latency
  (Database/messaging), TCP/UDP
  High performance workload
  Real-Time systems

3. Classic Load Balancer (CLB) (Legacy)
 - Works at: OSI Layer 4 / Basic Layer 7
 - Feature: Older generation, limited routing capacity
 - Used for: Maintaining legacy system only
 - Note: Not for new application

4. Gateway Load Balancer (GLB)
 - Works at: OSI Layer 3/4 (Network traffic inspection)
 - Feature: Designed for security application
  Integrate with firewalls, IDS/IPS
 - Used at: GLB is for security, not web traffic
  Firewall security, Centralized network security

ELB Advantages:
 1. High Availability
 2. Health checks → No downtime
 3. Auto scaling → Traffic to healthy targets only
 4. Security → Handles traffic spikes
 5. Cost efficient → Pay as you go

ELB Disadvantages:
 1. Debugging is most difficult
 2. Vendor lock-in → Hard to migrate
 3. Limited control → less tuning
 4. Limits → Depends on ELB type



Health Checks :
They determine whether a target is healthy and able to receive traffic
1. Healthy threshold:
  No. of consecutive successful health checks required before target is marked healthy
  Eg: If healthy threshold is 3 → then target must pass 3 continuous checks

2. Unhealthy threshold:
  Number of consecutive health checks required before target is marked unhealthy
  Eg: If unhealthy threshold is 4 → After 4 target failures, traffic stops

3. Timeout:
  Maximum time ELB waits for a response from target
  Eg: If timeout is 5 seconds → No response within 5 second = failure
  (Should be less than interval time)

4. Interval:
  Time between consecutive health check request
  Eg: If interval is 30 seconds → Health check happens every 30 seconds
  (Smaller than timeout)

```



## Steps to Create ELB (Application Load Balancer – ALB)
```
Step 1: Launch EC2 Instances
 1. Go to EC2 Dashboard
 2. Click Launch Instance
 3. Choose Amazon Linux / Windows AMI
 4. Select instance type (e.g., t2.micro)
 5. Configure:
   - Select your VPC
   - Choose Public Subnet
   - Enable Auto-assign Public IP
 6. Configure Security Group
   - Allow HTTP (Port 80)
   - Allow HTTPS (Port 443) if needed
 7. Click Launch
 8. Launch at least 2 EC2 instances (for load balancing)

Step 2: Create Target Group
 1. Go to EC2 Dashboard
 2. In left panel → Click Target Groups
 3. Click Create target group
 4. Choose: - Target type →  Instances
            - Protocol → HTTP
            - Port → 80
 5. Select your VPC
 6. Configure Health Check (default is fine)
 7. Click Next
 8. Register your EC2 instances
 9. Click Create target group

Step 3: Create Load Balancer
 1. Go to EC2 Dashboard
 2. Click Load Balancers
 3. Click Create Load Balancer
 4. Choose Application Load Balancer
 5. Click Create

Step 4: Configure Load Balancer
 1. Enter Name
 2. Scheme → Internet-facing
 3. IP type → IPv4
 4. Add Listeners
    HTTP (Port 80)

Step 5: Select Network Mapping
 1. Select your **VPC**
 2. Choose at least **2 Public Subnets** (Different Availability Zones)

Step 6: Configure Security Group
 1. Create new or select existing Security Group
 2. Allow:
       HTTP (80)
       HTTPS (443) if required
 
Step 7: Configure Routing
 1. Select the Target Group created earlier
 2. Click Next

Step 8: Review & Create
 1. Review all settings
 2. Click Create Load Balancer

Step 9: Testing
 1. Copy the DNS name of the Load Balancer
 2. Paste it in browser
 3. Refresh multiple times
 4. You will see traffic distributed between EC2 instances


```
#  Final Architecture After ELB Setup

![image alt](https://github.com/Ashu-1808/AWS-cloud-computing-for-devops/blob/68854f1ed61d3ad8bbaef29d2af23c57f3e3927f/flowchart%20load%20balancing.png)

